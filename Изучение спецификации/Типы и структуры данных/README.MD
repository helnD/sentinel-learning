# Простые типы данных

Можно выделить несколько простых типов данных в языке sentinel и значения не отличаются от аналогичных ьипов в других языках:
- int
- float
- string
- boolean

Рассмотрим каждый из них чуть подробнее.

## Integer

Отвечает за целые числа и занимает 64 бита (-9223372036854775808 до 9223372036854775807). Так же, как и в других языках, в sentinel можно указывать числа в разных системах счисления используя префиксы. 0 - для восьмиричных чисел, 0x - для шестнадцатеричних. Валидные численные литералы:

```
42
0211
0xBadFace
1234123423412124111
```

## Float

Ответственен за числа с плавающей запятой и также занимает 64 бита. Числа с плавающей запятой могут быть записаны в экспоненциальной форме, а также без указания левой или правой части относительно запятой. В этом случае на месте пропуска будет стоять ноль. Примеры валидных литералов для чисел с плавающей запятой:

```
1.1234
1.
.1234
1.e-10
.E-10
```

## Операции над числами

Для целых чисел и чисел с плавающей запятой определен стандартный набор арифметических операций:
```
+  сложение
-  отрицание
*  умножение
/  деление (без остатка для целых чисел)
%  остаток от деления
```
А также набор логических операций:
```
==       равно
!=       не равно
<        меньше
<=       меньше либо равно
>        больше
>=       больше либо равно
is       равно
is not   не равно
```
Как можно заметить, существует две различных конструкции для равенства и не равнества. Пологаю, это сделано для того, чтобы иногда можно было заменить знаки на более читаемые конструкции.

## String

Предоставляет строковый тип данных в формате Unicode. В строки также можно вставлять управляющие последовательности, знаки в виде кода Unicode. Строки могут быть записаны как в одинарных, так и в двойных кавычках. Примеры валидных строк:

```
'abc'
"a\nb\nc"
"日本語"
"\u65e5本\U00008a9e"
```

## Операции над строками

Для строк определена только одна арифметическая операция - сложение/конкатинация (+), А также набор логических операций, аналогичный операциям над числами. Сравнение происходит в лексикографическом порядке.

## Boolean и операции нам этим типом

Как и можно было ожидать, принимает два значения: true | false. Следующие логические операции можно производить с типом boolean:
```
and логическое умножение
or  логическое сложение
xor исключающее логическое сложение
!   логическое отрицание
not логическое отрицание
```
А также можно применять некоторые сравнительные операции:
```
==       равно
!=       не равно
is       равно
is not   не равно
```

# Константные значения 

В языке sentinel существует два константных значения: null и undefined. Как и во многих языках, зарезервированное значение null означает отсутствие значения, а значение undefined означает неопределенность значения к моменту вызова.

# Переменные

Так как мы рассмотрели различные значения простых типов, можно рассмотреть, как в языке sentinel работают переменные. Чтобы задать переменную, нужно просто связать имя переменной со значением. Примиеры объявления переменных:

```
x = 7          // x имеет тип int
x = "foo"      // теперь x имеет тип string
```

Как можно понять из комментариев выше, в sentinel действует динамическое определение типов. Так как значения переменных могут быть вычислены как результат выполнения функции, которая иногда может вернуть undefined, в языке предусмотрен оператор else, позволяющий использовать альтернативное значение справа от оператора, если значение слева от него равно undefined:

```
x = foo() else 42
```

# Структуры данных

К сложным структурам данных относятся только Map и List. Других структур данных sentinel не поддерживает. 

## List

List все также выполняет функции списка. Элементы списка можно добавлять, но не удалять. К элементам списка можно обратиться по индексу, а также брать срезы. Строку также можно рассматривать как список. Список объявляется аналогично переменной:
```
xs = [1, 2, 3]
```
Вложенные списки также могут быть объявлены:
```
xs = [[1, 2], [2, 3]]
```
Операции для работы со списками объявлены ниже:
```
x = [1, 2, 3]           // объявление списка
[1, 2, 3] + [3, 2, 1]   // конкатинация списков
x[1]                    // взятие элемента по индексу 1
x[1:4]                  // взятие среза с первого по четвертый элемент (открытый справа полуинтервал)
x[2:]                   // срез со второго по последний элемент
x[:2]                   // срез с нулевого по второй элемент
append(x, 3)            // добавление элемента в список
length(x)               // вычисление длины массива
```

## Map

Словарь является второй структурой данных, которая поддерживается в языке sentinel. Словарь объявляется следующим образом:

```
x = { 
    "key1" : "simple value",
    "key2" : {
        "key3" : "complicated value"
    } 
}
```

С помощью такого рода словарей можно строить объекты, как это делается в JavaScript. Следующие операции можно выполнять со словарями.


```
x = { "key" : "value" }     // объявление словаря
x["key"]                    // получение элемента словаря по ключу
x.key                       // получение элемента словаря по ключу
x["key"] = "value"          // создание новой пары ключ-значение
x.key = "value"             // создание новой пары ключ-значение
delete(x, "key")            // удаление элемента словаря по ключу
```

## Операции над структурами данных

Существуют также операции, которые можно выполнять как со списками, так и со словарями. Например, есть два оператора, которые выполняют одну и ту же функцию, однако отличаются ассациативностью. Этими операторами являются contains и in. Они определеяют, соедржится ли значение (или ключ, в случае словаря) в структуре, или не содержится. Примеры использования:
```
[1, 2, 3] contains 2                // true
[1, 2, 3] contains 5                // false
[1, 2, 3] not contains "value"      // true

{ "a": 1, "b": 2 } contains "a"     // true
{ "a": 1, "b": 2 } contains 2       // false

"test" in "best"                    // false
"test" in "testing"                 // true
```
Также, есть специальный оператор для строк, который проверяет, соответствует ли она регулярному выражению. Его название matches.
```
"ABC123" matches "[A-Z]+\\d+"   // true
"test"   not matches "e"        // false
```
Отдельно стоит отметить так называемые Quantifier Expressions. Во многих языках, такие выражения организованы в виде лямбда-выражений. Примеры Quantifier Expressions в sentinel: any, all, filter и map. Использование имеет специальный синтаксис:
```
all group.tasks as t { t.driver is "vmware" }       // true каждое значение соответствует предикату
any group.tasks as t { t.driver is "vmware" }       // true если любое выражение соответствует предикату
map group.tasks as t { { "driver": t.driver } }     // [{"driver": "vmware"}, ...]
filter group.tasks as t { t.driver is "vmware" }    // подмножество элементов, соответствующих предикату
```